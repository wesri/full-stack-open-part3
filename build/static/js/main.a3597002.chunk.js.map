{"version":3,"sources":["Filter.js","services/backendService.js","Contacts.js","ContactForm.js","Info.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","baseUrl","axios","get","then","response","data","item","post","id","delete","put","Contacts","contacts","map","person","name","number","onClick","filter","window","confirm","backendService","handleDelete","ContactForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Info","message","style","color","font_size","className","App","useState","persons","setPersons","filteredContacts","setFilteredContacts","setNewName","setNewNumber","setNewFilter","info","setInfo","setType","useEffect","event","console","log","target","regex","RegExp","match","preventDefault","matches","length","personObject","nextPerson","concat","setTimeout","catch","error","newPerson","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3597002.chunk.js","sourcesContent":["import { useState } from 'react'\n\nconst Filter = ({newFilter, handleFilterChange}) => {\n  return (\n    <div>\n      <input value={newFilter} onChange={handleFilterChange}/>\n    </div>\n  )\n}\n\n\nexport default Filter","import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getContacts = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = item => {\n  const request = axios.post(baseUrl, item)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst replace = (id, item) => {\n  const request = axios.put(`${baseUrl}/${id}`, item)\n  return request.then(response => response.data)\n}\n\nexport default {\n    getContacts,\n    create,\n    remove,\n    replace\n}","import { useState } from 'react'\nimport backendService from './services/backendService'\nconst Contacts = ({contacts}) => {\n\n  const handleDelete = (name) => {\n    const person = contacts.filter(person => person.name === name)\n    if (window.confirm(`Delete ${name} ?`)) {\n      backendService.remove(person[0].id)\n    }\n  }\n  return (\n    <div>\n      <ul>\n      {contacts.map(person =>\n          <li key={person.name}>{person.name} {person.number} <button onClick={() => handleDelete(person.name)}>delete</button></li>\n      )}\n      </ul>\n    </div>\n  )\n}\n\nexport default Contacts","import { useState } from 'react'\n\nconst ContactForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ContactForm","\nconst Info = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  const green = {\n    color: 'green',\n    font_size: 15,\n  }\n  \n  const red = {\n    color: 'red',\n    font_size: 15,\n  }\n\n  if (type === \"1\") {\n    return (\n    <div style={green} className='error'>\n      {message}\n    </div>\n    )\n  } else {\n    return (\n      <div style={red} className='error'>\n        {message}\n      </div>\n      )\n  }\n}\n\nexport default Info\n","import { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport Contacts from './Contacts'\nimport ContactForm from './ContactForm'\nimport Info from './Info'\nimport axios from 'axios'\nimport backendService from './services/backendService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [filteredContacts, setFilteredContacts] = useState(persons) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [info, setInfo] = useState(\"\")\n  const [type, setType] = useState(\"1\")\n\n  useEffect(() => {\n    backendService.getContacts()\n      .then(response => {\n        setPersons(response)\n        setFilteredContacts(response)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const matches = persons.filter((person) =>\n      person.name === newName\n    )\n    if (matches.length === 0) {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1\n      }\n      backendService.create(personObject).then(nextPerson => {\n        setPersons(persons.concat(nextPerson))\n        setNewName('')\n        setNewNumber('')\n        setInfo(\n          `Added ${newName}`\n        )\n        setTimeout(() => {\n          setInfo(\"\")\n        }, 2000)\n      }).catch(error => {\n        // this is the way to access the error message\n        setInfo(error.response.data.error)\n        setType('2')\n        setTimeout(() => {\n          setInfo(\"\")\n          setType('1')\n        }, 2000)\n      })\n\n    } else {\n      if (window.confirm(`${matches[0].name} is already added to the phonebook, replace the old number?`)) {\n        const newPerson = { ...matches[0], number: newNumber }\n        backendService.replace(matches[0].id, newPerson).then(nextPerson => {\n            setPersons(persons.map(person => person.id !== matches[0].id ? person : nextPerson))\n            setInfo(\n              `Updated ${newName}`\n            )\n            setTimeout(() => {\n              setInfo(\"\")\n            }, 2000)\n          }).catch(() => {\n            setInfo(`Already deleted ${newName}`)\n            setType('2')\n            setTimeout(() => {\n              setInfo(\"\")\n              setType('1')\n            }, 2000)\n          })\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n    const regex = new RegExp(event.target.value, 'i' );\n    setFilteredContacts(persons.filter(person => person.name.match(regex)))\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Info message={info} type={type}/>\n      <br/>\n      <h2>Search names</h2>\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <br/>\n      <h2>Add contacts</h2>\n      <ContactForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Contacts contacts={filteredContacts}/>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}