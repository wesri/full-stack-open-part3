(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),r=n(11),o=n.n(r),i=(n(19),n(9)),u=n(4),s=n(1),l=function(e){var t=e.newFilter,n=e.handleFilterChange;return Object(s.jsx)("div",{children:Object(s.jsx)("input",{value:t,onChange:n})})},d=n(26),j="http://localhost:3001/api/persons",b=function(){return d.a.get(j).then((function(e){return e.data}))},h=function(e){return d.a.post(j,e).then((function(e){return e.data}))},f=function(e){return d.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data}))},O=function(e,t){return d.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},m=function(e){var t=e.contacts;return Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsxs)("li",{children:[e.name," ",e.number," ",Object(s.jsx)("button",{onClick:function(){return function(e){var n=t.filter((function(t){return t.name===e}));window.confirm("Delete ".concat(e," ?"))&&f(n[0].id)}(e.name)},children:"delete"})]},e.name)}))})})},g=function(e){var t=e.addPerson,n=e.newName,c=e.newNumber,a=e.handleNameChange,r=e.handleNumberChange;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:n,onChange:a})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:c,onChange:r})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})})},v=function(e){var t=e.message,n=e.type;if(null===t)return null;return"1"===n?Object(s.jsx)("div",{style:{color:"green",font_size:15},className:"error",children:t}):Object(s.jsx)("div",{style:{color:"red",font_size:15},className:"error",children:t})},x=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(n),o=Object(u.a)(r,2),d=o[0],j=o[1],f=Object(c.useState)(""),x=Object(u.a)(f,2),p=x[0],w=x[1],C=Object(c.useState)(""),N=Object(u.a)(C,2),S=N[0],y=N[1],F=Object(c.useState)(""),k=Object(u.a)(F,2),T=k[0],P=k[1],A=Object(c.useState)(""),D=Object(u.a)(A,2),E=D[0],z=D[1],B=Object(c.useState)("1"),I=Object(u.a)(B,2),J=I[0],L=I[1];Object(c.useEffect)((function(){b().then((function(e){a(e),j(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(v,{message:E,type:J}),Object(s.jsx)("br",{}),Object(s.jsx)("h2",{children:"Search names"}),Object(s.jsx)(l,{newFilter:T,handleFilterChange:function(e){console.log(e.target.value),P(e.target.value);var t=new RegExp(e.target.value,"i");j(n.filter((function(e){return e.name.match(t)})))}}),Object(s.jsx)("br",{}),Object(s.jsx)("h2",{children:"Add contacts"}),Object(s.jsx)(g,{addPerson:function(e){e.preventDefault();var t=n.filter((function(e){return e.name===p}));if(0===t.length){var c={name:p,number:S,id:n.length+1};h(c).then((function(e){a(n.concat(e)),w(""),y(""),z("Added ".concat(p)),setTimeout((function(){z("")}),2e3)})).catch((function(e){z(e.response.data.error),L("2"),setTimeout((function(){z(""),L("1")}),2e3)}))}else if(window.confirm("".concat(t[0].name," is already added to the phonebook, replace the old number?"))){var r=Object(i.a)(Object(i.a)({},t[0]),{},{number:S});O(t[0].id,r).then((function(e){a(n.map((function(n){return n.id!==t[0].id?n:e}))),z("Updated ".concat(p)),setTimeout((function(){z("")}),2e3)})).catch((function(){z("Already deleted ".concat(p)),L("2"),setTimeout((function(){z(""),L("1")}),2e3)}))}},newName:p,newNumber:S,handleNameChange:function(e){console.log(e.target.value),w(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),y(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(m,{contacts:d})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),p()}},[[25,1,2]]]);
//# sourceMappingURL=main.a3597002.chunk.js.map